<script type="text/html" id="survey-question-file">
  <div data-bind="css: question.koCss().root">
      <!-- ko ifnot: question.isReadOnly -->
      <input type="file" data-bind="css: question.cssClasses.fileInput, attr: {id: question.inputId, 'aria-required': question.isRequired, 'aria-label': question.locTitle.renderedHtml, 'aria-invalid': question.errors.length > 0, 'aria-describedby': question.errors.length > 0 ? question.id + '_errors' : null, multiple: question.allowMultiple ? 'multiple' : undefined, title: koInputTitle, accept: question.acceptedTypes }, event: {change: question.dochange}">
      <!-- /ko -->
      <!-- ko if: question.isReadOnly -->
      <input type="file" disabled data-bind="css: 'form-control ' + question.cssClasses.placeholderInput, attr: { placeholder: question.title }" style="color: transparent;"/>
      <!-- /ko -->
      <div data-bind="css:question.koCss().fileDecorator, event:{ dragover: question.ondragover, drop: question.ondrop}">
        <div data-bind="css: question.koCss().wrapper">
          <label role="button" data-bind="css: question.koChooseFileClass, attr: {for: question.inputId, 'aria-label': question.chooseButtonCaption}, text: question.chooseButtonCaption"></label>
          <span data-bind="css: question.koCss().noFileChosen, visible: !question.koHasValue(), text: question.noFileChosenCaption"></span>
        </div>
      </div>
      <!-- ko if: question.koHasValue() && !question.isReadOnly -->
      <button type="button" data-bind="css: question.cssClasses.removeButton, click: question.doclean, text: question.cleanButtonCaption"></button>
      <!-- /ko -->
      <div data-bind="foreach: question.koData, visible: question.koHasValue">
          <span data-bind="visible: question.showPreview, css: question.cssClasses.preview">
              <!-- ko if: $data.name -->
              <div data-bind="css: question.koCss().fileSign">
              <a data-bind="style: { width: question.imageWidth + 'px' }, click: question.dodownload, text: $data.name,
              attr: { href: $data.content, title: $data.name, download: $data.name }"></a>
              </div>
              <!-- /ko -->
              <!-- ko if: question.canPreviewImage($data) -->
              <img data-bind="attr: { src: $data.content, height: question.imageHeight, width: question.imageWidth }" alt="File preview">
              <!-- /ko -->
              <!-- ko if: $data.name -->
              <!-- ko ifnot: question.isReadOnly -->
              <div>
                  <span data-bind="css: question.cssClasses.removeFile, click: question.doremovefile, text: question.removeFileCaption"></span>
                  <svg data-bind="css: question.cssClasses.removeFileSvg, click: question.doremovefile" viewBox="0 0 16 16">
                    <path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"/>
                  </svg>
              </div>
              <!-- /ko -->
              <!-- ko if: $data.name -->
              <div data-bind="css: question.koCss().fileSignBottom">
                <a data-bind="style: { width: question.imageWidth + 'px' }, click: question.dodownload, text: $data.name, attr: { href: $data.content, title: $data.name, download: $data.name }"></a>
              </div>
              <!-- /ko -->
              <!-- /ko -->
          </span>
      </div>
      <!-- ko if: question.koHasValue() && !question.isReadOnly -->
      <button type="button" data-bind="css: question.cssClasses.removeButtonBottom, click: question.doclean, text: question.cleanButtonCaption"></button>
      <!-- /ko -->
  </div>
</script>
